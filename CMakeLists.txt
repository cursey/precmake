# Generated by precmake
# Do not edit
cmake_minimum_required(VERSION 3.25)
file(DOWNLOAD
    https://github.com/cpm-cmake/CPM.cmake/releases/download/v0.40.2/CPM.cmake
    ${CMAKE_CURRENT_BINARY_DIR}/cmake/CPM.cmake
    EXPECTED_HASH SHA256=c8cdc32c03816538ce22781ed72964dc864b2a34a310d3b7104812a5ca2d835d)
include(${CMAKE_CURRENT_BINARY_DIR}/cmake/CPM.cmake)
project(precmake)
CPMAddPackage(
    NAME lua
    GIT_REPOSITORY https://github.com/lua/lua.git
    GIT_TAG v5.4.7
    DOWNLOAD_ONLY TRUE
)
file(GLOB glob_0 ${lua_SOURCE_DIR}/*.c)
LIST(REMOVE_ITEM glob_0 
    ${lua_SOURCE_DIR}/lua.c
    ${lua_SOURCE_DIR}/luac.c
    ${lua_SOURCE_DIR}/onelua.c
)
add_library( lua STATIC
    ${glob_0}
)
target_include_directories(lua PUBLIC
    $<BUILD_INTERFACE:${lua_SOURCE_DIR}>
)
file(GLOB glob_1 utl/src/*.c)
if(NOT WIN32)
    LIST(FILTER glob_1 EXCLUDE REGEX
        .*win32.c$
    )
endif()
if(NOT APPLE)
    LIST(FILTER glob_1 EXCLUDE REGEX
        .*macos.c$
    )
endif()
if(NOT UNIX OR APPLE)
    LIST(FILTER glob_1 EXCLUDE REGEX
        .*linux.c$
    )
endif()
add_library( utl STATIC
    ${glob_1}
)
target_include_directories(utl PUBLIC
    utl/include
)
file(GLOB glob_2 precmake/src/*.c)
add_executable( precmake 
    ${glob_2}
)
target_link_libraries(precmake PRIVATE
    utl
    lua
)

